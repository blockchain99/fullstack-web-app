{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","get","sent","type","payload","data","stop","this","_x","apply","arguments","handleToken","token","_ref2","_callee2","_context2","post","_x2","Payments","_this","react_default","createElement","main_default","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","key","value","auth","href","components_Payments","style","margin","credits","Link","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","BrowserRouter","components_Header","Route","exact","path","component","combineReducers","state","length","undefined","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.794cb255.chunk.js","sourcesContent":["import axios from 'axios';\nimport { FETCH_USER } from './types';\n// const fetchUser = () => {\n//   axios.get('/api/current_user');\n// };\nexport const fetchUser = () => async dispatch => {\n    const res = await axios.get('/api/current_user');\n    // dispatch({ type: FETCH_USER, payload: res });\n    dispatch({ type: FETCH_USER, payload: res.data });\n  };\n\nexport const handleToken =( token ) => async dispatch => {\n  const res = await axios.post('/api/stripe', token);\n\n  dispatch({ type: FETCH_USER, payload: res.data});\n};\n","export const FETCH_USER = 'fetch_user';\n","//make Pay with Card icon cuttier with child component of StripeCheckout\n//use materialize css, <a clannName=\"btn\"></a> or <button className=\"btn\"></button>\nimport React, { Component } from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { connect } from 'react-redux'\nimport * as actions from '../actions';\n/**\n * Payments\n */\nclass Payments extends Component { // eslint-disable-line react/prefer-stateless-function\n  render() {\n    // debugger;\n\n    return (\n      <StripeCheckout\n        name=\"Emaily\"\n        description=\"$5 for 5 survey credits\"\n        amount={500}\n        token={token => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n        <button className=\"btn\">\n          Add Credits\n        </button>\n      </StripeCheckout>\n    );\n  }\n}\n\n//wire up connect helper(1st arg: no mapStateToProps, 2nd :action creator )\nexport default connect(null, actions)(Payments);\n","//key for return [<li key=\"1>...</li>, <li key=\"2\">..</li>]\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Payments from './Payments';\nimport \"materialize-css/dist/css/materialize.min.css\";\nimport \"materialize-css/dist/js/materialize.min.js\";\n\n/**\n *https://materializecss.com/navbar.html\n */\nexport class Header extends Component { // eslint-disable-line react/prefer-stateless-function\n renderContent() {\n   switch (this.props.auth) { //user model is available as this.props.auth\n     case null:\n      return;\n     case false:\n      return (\n        <li><a href=\"/auth/google\">Login With Google</a></li>\n      );\n     default:\n      return [\n        <li key=\"1\"><Payments /></li>,\n        <li key=\"4\" style={{ margin: '0 10px' }}>\n          Credits: {this.props.auth.credits}\n        </li>,\n        <li key=\"3\"><a href=\"/api/logout\">Logout</a></li>\n\n      ];\n   }\n }\n\n  render() {\n    return (\n     <nav>\n        <div className=\"nav-wrapper\">\n          <Link\n            to={this.props.auth ? '/surveys' : '/'}\n            className=\"left brand-logo\"\n          >\n            Emaily\n          </Link>\n          <ul className=\"right\">\n            {this.renderContent()}\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\n// function mapStateToProps(state) {\n// //object, pass to the Header as props\n// //property,auth for authReducer in /reducers/index.js\n//   return{ auth: state.auth}; //auth property is generated by state.auth\n// }\nfunction mapStateToProps({ auth }) {\n//return object, pass the object to the Header as props\n//property,auth for authReducer in /reducers/index.js\n  return{ auth }; //auth property is generated by state.auth\n}\nexport default connect(mapStateToProps)(Header);\n","//sc : stateless import React,{Component} from 'react';\nimport React from 'react';\nconst  Landing = () => {\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <h1>\n        Emaily!\n      </h1>\n      Collect feedback from your users\n    </div>\n  );\n}\n  \nexport default Landing;\n","//responsible initial view layer setup,\n//whereas top level index.js responsible for redux(data) setup of application.\nimport React, { Component } from 'react';\n//BrowserRouter: brain of routing, Route: routing rule\nimport { BrowserRouter, Route } from 'react-router-dom';\n//give a component ability to call action creator\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n// const Header = () => <h2>Header</h2>;\nimport Header from './Header';\nimport Landing from './Landing';\nconst Dashboard = () => <h2>Dashboard</h2>;\nconst SurveyNew = () => <h2>SurveyNew</h2>;\n// const Landing = () => <h2>Landing</h2>;\n\n\n//BrowserRouter has just one child component.\n// const App = () => {\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchUser(); //call action creator,/actions/index.js\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n           <Header />\n           <Route exact path=\"/\" component={Landing} />\n           <Route exact path=\"/surveys\" component={Dashboard} />\n           <Route path=\"/surveys/new\" component={SurveyNew} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n};\n\n// export default App;\nexport default connect(null, actions)(App);//mapStateToProps, action creator\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\n\nexport default combineReducers({\n  auth: authReducer\n});\n","import { FETCH_USER } from '../actions/types';\n\n// export default function(state = {}, action) {\nexport default function(state = null, action) {\n  // console.log(action);\n  switch (action.type) {\n    case FETCH_USER:\n      return action.payload || false; //user model\n    default:\n      return state;\n  }\n}\n","// import .. from with 'without ./' means it is from node_modules\nimport materializeCSS from 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\n\n\n//1st : single dummy reducer,\n//2nd arg(initial state of application): server side rendering\n//We created redux store at the top level of application & hook it up to\n//react side of application by placing <Provider> tag.\n\n// const store = createStore( () => [], {}, applyMiddleware());\nconst store = createStore( reducers, {}, applyMiddleware(reduxThunk));\n//2nd arg : reference to existing DOM node inside HTML document\n//so, reference to <div id=\"root\"></div> in index.html,\nReactDOM.render(\n  <Provider store={store}><App /></Provider>,\n  document.querySelector('#root')\n);\n\n// console.log('REACT_APP_STRIPE_KEY is ', process.env.REACT_APP_STRIPE_KEY);\n// console.log('Environment is ', process.env.NODE_ENV);\n"],"sourceRoot":""}